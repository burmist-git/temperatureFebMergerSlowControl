#!/bin/bash

########################################################################
#                                                                      #
# Copyright(C) 2017 - LBS - (Single person developer.)                 #
# Sat Oct 20 18:32:49 JST 2018                                         #
# Autor: Leonid Burmistrov                                             #
#                                                                      #
# File description:                                                    #
#                  Program used to convert FEB temperature data in to  #
#                  2D TH2Poly histograms.                              #
#                                                                      #
# Input paramete:                                                      #
#                   NON.                                               #
#                                                                      #
# This software is provided "as is" without any warranty.              #
#                                                                      #
########################################################################

function convertFebTemp_main_bash {

    ./convertFebTemp_main $1 $2 $3
    
}

function convertArr {
    singlePlotPdfList=""
    for i in `seq 0 $nn`;
    do
	
	fileIn=$rawDataFolder${inDataFileNameArr[$i]}
	numberOfLines=`more $fileIn | wc -l`
	if [ "$numberOfLines" -eq "144" ]
	then
	    outPdfFileName=$rawDataFolder${inDataFileNameArr[$i]}.'pdf'
	    #echo $fileIn
	    convertFebTemp_main_bash 0 $fileIn $outPdfFileName | tee $fileIn'.log'
	    singlePlotPdfList="$singlePlotPdfList $outPdfFileName"
	fi
    done
    
    mergedPdfOutFile="$rawDataFolder${inDataFileNameArr[0]}-${inDataFileNameArr[$nn]}.pdf"
    #echo $mergedPdfOutFile
    #echo $singlePlotPdfList
    gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=$mergedPdfOutFile $singlePlotPdfList
    echo $mergedPdfOutFile
}

function mergeArr1 {
    
    inRootHistFileList=""
    for i in `seq 0 $nn`;
    do
	fileIn=$rawDataFolder${inDataFileNameArr[$i]}
	numberOfLines=`more $fileIn | wc -l`
	if [ "$numberOfLines" -eq "144" ]
	then	
	    inRootFileName=$rawDataFolder${inDataFileNameArr[$i]}.'root'
	    inRootHistFileList="$inRootHistFileList $inRootFileName"
	fi
    done
    outRootFileName="$rawDataFolder${inDataFileNameArr[0]}-${inDataFileNameArr[$nn]}.root"
    echo $outRootHistFileList
    ./convertFebTemp_main 1 $outRootFileName $inRootHistFileList
    
}

# Sat Oct 20 18:36:34 JST 2018
inDataFileNameArr=(
febtemp-181017-160409
febtemp-181017-161436
febtemp-181017-162503
febtemp-181017-163531
febtemp-181017-164551
febtemp-181017-165618
febtemp-181017-170646
febtemp-181017-171712
febtemp-181017-172739
febtemp-181017-173807
febtemp-181017-174833
febtemp-181017-175852
febtemp-181017-180913
febtemp-181017-181940
febtemp-181017-183007
febtemp-181017-184033
febtemp-181017-185101
febtemp-181017-190128
febtemp-181017-191148
febtemp-181017-192215
febtemp-181017-193243
febtemp-181017-194309
febtemp-181017-195336
febtemp-181017-200404
febtemp-181017-201430
febtemp-181017-202458
febtemp-181017-203524
febtemp-181017-204551
febtemp-181017-205619
febtemp-181017-210645
febtemp-181017-211712
febtemp-181017-212739
febtemp-181017-213805
febtemp-181017-214833
febtemp-181017-215859
febtemp-181017-220926
febtemp-181017-221954
febtemp-181017-223014
febtemp-181017-224041
febtemp-181017-225109
febtemp-181017-230136
febtemp-181017-231203
febtemp-181017-232230
febtemp-181017-233256
febtemp-181017-234323
febtemp-181017-235350
febtemp-181018-000416
febtemp-181018-001444
febtemp-181018-002511
febtemp-181018-003538
febtemp-181018-004606
febtemp-181018-005632
febtemp-181018-010700
febtemp-181018-011727
febtemp-181018-012754
febtemp-181018-013821
febtemp-181018-014847
febtemp-181018-015914
febtemp-181018-020942
febtemp-181018-022008
febtemp-181018-023037
febtemp-181018-024102
febtemp-181018-025129
febtemp-181018-030157
febtemp-181018-031217
febtemp-181018-032244
febtemp-181018-033313
febtemp-181018-034339
febtemp-181018-035405
febtemp-181018-040433
febtemp-181018-041459
febtemp-181018-042526
febtemp-181018-043554
febtemp-181018-044620
febtemp-181018-045648
febtemp-181018-050714
febtemp-181018-051741
febtemp-181018-052809
febtemp-181018-053829
febtemp-181018-054856
febtemp-181018-055924
febtemp-181018-060951
febtemp-181018-062017
febtemp-181018-063045
febtemp-181018-064106
febtemp-181018-065133
febtemp-181018-070200
febtemp-181018-071227
febtemp-181018-072254
febtemp-181018-073322
febtemp-181018-074342
febtemp-181018-075409
febtemp-181018-080437
febtemp-181018-081504
febtemp-181018-082530
febtemp-181018-083558
febtemp-181018-084624
febtemp-181018-085651
febtemp-181018-090719
febtemp-181018-091745
febtemp-181018-092813
febtemp-181018-093839
febtemp-181018-094934
febtemp-181018-100025
febtemp-181018-101115
febtemp-181018-102204
febtemp-181018-103253
febtemp-181018-104345
febtemp-181018-105433
febtemp-181018-110521
febtemp-181018-111613
febtemp-181018-112656
febtemp-181018-113715
febtemp-181018-114742
febtemp-181018-115811
febtemp-181018-120838
febtemp-181018-121906
febtemp-181018-122932
febtemp-181018-123959
febtemp-181018-125027
febtemp-181018-130055
febtemp-181018-131123
febtemp-181018-132150
febtemp-181018-133219
febtemp-181018-134246
febtemp-181018-135313
febtemp-181018-140334
febtemp-181018-141402
febtemp-181018-142430
febtemp-181018-143458
febtemp-181018-144525
febtemp-181018-145552
febtemp-181018-150620
febtemp-181018-151648
febtemp-181018-152716
febtemp-181018-153744
febtemp-181018-154813
febtemp-181018-155839
febtemp-181018-160907
febtemp-181018-161924
febtemp-181018-163020
febtemp-181018-164108
febtemp-181018-165157
febtemp-181018-170246
febtemp-181018-171336
febtemp-181018-172402
febtemp-181018-173421
febtemp-181018-174441
febtemp-181018-175503
febtemp-181018-180523
febtemp-181018-181543
febtemp-181018-182604
febtemp-181018-183624
febtemp-181018-184651
febtemp-181018-185718
febtemp-181018-190740
febtemp-181018-191756
febtemp-181018-192816
febtemp-181018-193843
febtemp-181018-194910
febtemp-181018-195937
febtemp-181018-201005
febtemp-181018-202031
febtemp-181018-203058
febtemp-181018-204125
febtemp-181018-205151
febtemp-181018-210218
febtemp-181018-211245
febtemp-181018-212312
febtemp-181018-213340
febtemp-181018-214405
febtemp-181018-215432
febtemp-181018-220500
febtemp-181018-221520
febtemp-181018-222547
febtemp-181018-223616
febtemp-181018-224642
febtemp-181018-225709
febtemp-181018-230736
febtemp-181018-231802
febtemp-181018-232830
febtemp-181018-233857
febtemp-181018-234924
febtemp-181018-235952
febtemp-181019-001017
febtemp-181019-002044
febtemp-181019-003112
febtemp-181019-004138
febtemp-181019-005206
febtemp-181019-010232
febtemp-181019-011300
febtemp-181019-012327
febtemp-181019-013353
febtemp-181019-014420
febtemp-181019-015448
febtemp-181019-020514
febtemp-181019-021542
febtemp-181019-022608
febtemp-181019-023635
febtemp-181019-024702
febtemp-181019-025728
febtemp-181019-030756
febtemp-181019-031823
febtemp-181019-032849
febtemp-181019-033917
febtemp-181019-034943
febtemp-181019-040010
febtemp-181019-041037
febtemp-181019-042104
febtemp-181019-043132
febtemp-181019-044158
febtemp-181019-045225
febtemp-181019-050253
febtemp-181019-051313
febtemp-181019-052341
febtemp-181019-053408
febtemp-181019-054435
febtemp-181019-055502
febtemp-181019-060530
febtemp-181019-061556
febtemp-181019-062623
febtemp-181019-063650
febtemp-181019-064717
febtemp-181019-065745
febtemp-181019-070811
febtemp-181019-071838
febtemp-181019-072905
febtemp-181019-073925
febtemp-181019-074953
febtemp-181019-080020
febtemp-181019-081047
febtemp-181019-082114
febtemp-181019-083142
febtemp-181019-084202
febtemp-181019-085229
febtemp-181019-090257
febtemp-181019-091324
febtemp-181019-092350
febtemp-181019-093418
febtemp-181019-094509
febtemp-181019-095600
febtemp-181019-100650
febtemp-181019-101741
febtemp-181019-102832
febtemp-181019-103921
febtemp-181019-105010
febtemp-181019-110101
febtemp-181019-111149
febtemp-181019-112237
febtemp-181019-113327
febtemp-181019-114416
febtemp-181019-115508
febtemp-181019-120600
febtemp-181019-121650
febtemp-181019-122740
febtemp-181019-123829
febtemp-181019-124919
febtemp-181019-130007
febtemp-181019-131055
febtemp-181019-132148
febtemp-181019-133237
febtemp-181019-134327
febtemp-181019-135418
febtemp-181019-140508
febtemp-181019-141558
febtemp-181019-142648
febtemp-181019-143738
febtemp-181019-144828
febtemp-181019-145917
febtemp-181019-151008
febtemp-181019-152057
febtemp-181019-153146
febtemp-181019-154237
febtemp-181019-155333
febtemp-181019-160424
febtemp-181019-161514
febtemp-181019-162603
febtemp-181019-163659
febtemp-181019-164749
febtemp-181019-165840
febtemp-181019-170929
febtemp-181019-172019
febtemp-181019-173108
febtemp-181019-174158
febtemp-181019-175249
febtemp-181019-180341
febtemp-181019-181431
febtemp-181019-182522
febtemp-181019-183613
febtemp-181019-184702
febtemp-181019-185751
febtemp-181019-190841
febtemp-181019-191932
febtemp-181019-193022
febtemp-181019-194111
febtemp-181019-195202
febtemp-181019-200257
febtemp-181019-201349
febtemp-181019-202443
febtemp-181019-203533
febtemp-181019-204622
febtemp-181019-205713
febtemp-181019-210803
febtemp-181019-211853
febtemp-181019-212944
febtemp-181019-214033
febtemp-181019-215123
febtemp-181019-220213
febtemp-181019-221305
febtemp-181019-222402
febtemp-181019-223459
febtemp-181019-224548
febtemp-181019-225639
febtemp-181019-230735
febtemp-181019-231824
febtemp-181019-232916
febtemp-181019-234004
febtemp-181019-235053
febtemp-181020-000143
febtemp-181020-001232
febtemp-181020-002323
febtemp-181020-003415
febtemp-181020-004505
febtemp-181020-005555
febtemp-181020-010646
febtemp-181020-011735
febtemp-181020-012825
febtemp-181020-013915
febtemp-181020-015005
febtemp-181020-020052
febtemp-181020-021142
febtemp-181020-022233
febtemp-181020-023329
febtemp-181020-024419
febtemp-181020-025513
febtemp-181020-030603
febtemp-181020-031658
febtemp-181020-032748
febtemp-181020-033839
febtemp-181020-034928
febtemp-181020-040018
febtemp-181020-041107
febtemp-181020-042157
febtemp-181020-043247
febtemp-181020-044339
febtemp-181020-045430
febtemp-181020-050519
febtemp-181020-051611
febtemp-181020-052659
febtemp-181020-053749
febtemp-181020-054838
febtemp-181020-055929
febtemp-181020-061016
febtemp-181020-062106
febtemp-181020-063156
febtemp-181020-064252
febtemp-181020-065350
febtemp-181020-070440
febtemp-181020-071529
febtemp-181020-072620
febtemp-181020-073710
febtemp-181020-074800
febtemp-181020-075847
febtemp-181020-080937
febtemp-181020-082028
febtemp-181020-083119
febtemp-181020-084208
febtemp-181020-085300
febtemp-181020-090350
febtemp-181020-091440
febtemp-181020-092529
febtemp-181020-093618
febtemp-181020-094710
febtemp-181020-095802
febtemp-181020-100850
febtemp-181020-101938
febtemp-181020-103028
febtemp-181020-104119
febtemp-181020-105215
febtemp-181020-110306
febtemp-181020-111402
febtemp-181020-112450
febtemp-181020-113548
febtemp-181020-114638
febtemp-181020-115728
febtemp-181020-120819
febtemp-181020-121909
febtemp-181020-122959
febtemp-181020-124047
febtemp-181020-125137
febtemp-181020-130228
febtemp-181020-131325
febtemp-181020-132422
febtemp-181020-133513
febtemp-181020-134603
febtemp-181020-135654
febtemp-181020-140744
febtemp-181020-141834
febtemp-181020-142933
febtemp-181020-144022
febtemp-181020-145114
febtemp-181020-150202
febtemp-181020-151252
febtemp-181020-152342
febtemp-181020-153432
febtemp-181020-154529
febtemp-181020-155623
febtemp-181020-160713
febtemp-181020-161802
febtemp-181020-162851
febtemp-181020-163944
febtemp-181020-165031
febtemp-181020-170119
febtemp-181020-171210
febtemp-181020-172300
febtemp-181020-173358
febtemp-181020-174448
febtemp-181020-175538
febtemp-181020-180635
febtemp-181020-181730
febtemp-181020-182820
febtemp-181020-183908
febtemp-181020-184957
febtemp-181020-190048
febtemp-181020-191136
febtemp-181020-192226
febtemp-181020-193317
febtemp-181020-194407
febtemp-181020-195457
febtemp-181020-200548
febtemp-181020-201638
febtemp-181020-202728
febtemp-181020-203817
febtemp-181020-204909
febtemp-181020-205957
febtemp-181020-211046
febtemp-181020-212137
febtemp-181020-213226
febtemp-181020-214323
febtemp-181020-215413
febtemp-181020-220504
febtemp-181020-221601
febtemp-181020-222655
febtemp-181020-223751
febtemp-181020-224840
febtemp-181020-225930
febtemp-181020-231021
febtemp-181020-232110
febtemp-181020-233158
febtemp-181020-234247
febtemp-181020-235338
febtemp-181021-000427
febtemp-181021-001518
febtemp-181021-002609
febtemp-181021-003658
febtemp-181021-004748
febtemp-181021-005839
febtemp-181021-010928
febtemp-181021-012017
febtemp-181021-013108
febtemp-181021-014157
febtemp-181021-015247
febtemp-181021-020338
febtemp-181021-021428
febtemp-181021-022518
febtemp-181021-023609
febtemp-181021-024659
febtemp-181021-025749
febtemp-181021-030838
febtemp-181021-031929
febtemp-181021-033019
febtemp-181021-034107
febtemp-181021-035157
febtemp-181021-040247
febtemp-181021-041343
febtemp-181021-042434
febtemp-181021-043528
febtemp-181021-044618
febtemp-181021-045708
febtemp-181021-050758
febtemp-181021-051846
febtemp-181021-052936
febtemp-181021-054027
febtemp-181021-055115
febtemp-181021-060204
febtemp-181021-061256
febtemp-181021-062347
febtemp-181021-063438
febtemp-181021-064527
febtemp-181021-065616
febtemp-181021-070706
febtemp-181021-071757
febtemp-181021-072847
febtemp-181021-073934
febtemp-181021-075024
febtemp-181021-080115
febtemp-181021-081211
febtemp-181021-082303
febtemp-181021-083353
febtemp-181021-084442
febtemp-181021-085531
febtemp-181021-090621
febtemp-181021-091708
febtemp-181021-092801
febtemp-181021-093852
febtemp-181021-094941
febtemp-181021-100030
febtemp-181021-101121
febtemp-181021-102211
febtemp-181021-103307
febtemp-181021-104357
febtemp-181021-105450
febtemp-181021-110538
febtemp-181021-111627
febtemp-181021-112718
febtemp-181021-113805
febtemp-181021-114856
febtemp-181021-115947
febtemp-181021-121036
febtemp-181021-122126
febtemp-181021-123216
febtemp-181021-124307
febtemp-181021-125356
febtemp-181021-130446
febtemp-181021-131536
febtemp-181021-132624
febtemp-181021-133714
febtemp-181021-134806
febtemp-181021-135856
febtemp-181021-140954
febtemp-181021-142045
febtemp-181021-143141
febtemp-181021-144231
febtemp-181021-145326
febtemp-181021-150417
febtemp-181021-151507
febtemp-181021-152557
febtemp-181021-153649
febtemp-181021-154737
febtemp-181021-155824
febtemp-181021-160915
febtemp-181021-162005
febtemp-181021-163104
febtemp-181021-164154
febtemp-181021-165245
febtemp-181021-170341
febtemp-181021-171438
febtemp-181021-172527
febtemp-181021-173616
febtemp-181021-174713
febtemp-181021-175802
febtemp-181021-180853
febtemp-181021-181942
febtemp-181021-183031
febtemp-181021-184121
febtemp-181021-185211
febtemp-181021-190305
febtemp-181021-191357
febtemp-181021-192451
febtemp-181021-193547
febtemp-181021-194637
febtemp-181021-195728
febtemp-181021-200817
febtemp-181021-201906
febtemp-181021-202958
febtemp-181021-204045
febtemp-181021-205135
febtemp-181021-210227
febtemp-181021-211317
febtemp-181021-212415
febtemp-181021-213506
febtemp-181021-214600
febtemp-181021-215649
febtemp-181021-220739
febtemp-181021-221831
febtemp-181021-222918
febtemp-181021-224008
febtemp-181021-225058
febtemp-181021-230147
febtemp-181021-231243
febtemp-181021-232334
febtemp-181021-233424
febtemp-181021-234514
febtemp-181021-235605
febtemp-181022-000654
febtemp-181022-001744
febtemp-181022-002834
febtemp-181022-003926
febtemp-181022-005014
febtemp-181022-010102
febtemp-181022-011154
febtemp-181022-012243
febtemp-181022-013339
febtemp-181022-014431
febtemp-181022-015526
febtemp-181022-020621
febtemp-181022-021711
febtemp-181022-022802
febtemp-181022-023852
febtemp-181022-025003
febtemp-181022-030053
febtemp-181022-031144
febtemp-181022-032231
febtemp-181022-033320
febtemp-181022-034412
febtemp-181022-035501
febtemp-181022-040559
febtemp-181022-041650
febtemp-181022-042745
febtemp-181022-043835
febtemp-181022-044929
febtemp-181022-050020
febtemp-181022-051109
febtemp-181022-052158
febtemp-181022-053250
febtemp-181022-054338
febtemp-181022-055426
febtemp-181022-060518
febtemp-181022-061607
febtemp-181022-062658
febtemp-181022-063753
febtemp-181022-064843
febtemp-181022-065932
febtemp-181022-071022
febtemp-181022-072113
febtemp-181022-073202
febtemp-181022-074251
febtemp-181022-075344
febtemp-181022-080431
febtemp-181022-081522
febtemp-181022-082612
febtemp-181022-083702
febtemp-181022-084753
febtemp-181022-085844
febtemp-181022-090933
febtemp-181022-092023
febtemp-181022-093112
febtemp-181022-094203
febtemp-181022-095252
febtemp-181022-100342
febtemp-181022-101431
febtemp-181022-102521
febtemp-181022-103617
febtemp-181022-104706
febtemp-181022-105802
febtemp-181022-110852
febtemp-181022-111942
febtemp-181022-113032
febtemp-181022-114120
febtemp-181022-115210
)

rawDataFolder="./data-181022/"
nn=${#inDataFileNameArr[@]}
let nn=nn-1
#convertArr
mergeArr1
